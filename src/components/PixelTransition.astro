---
---

<div id="pixel-transition"></div>

<style is:global>
    .pixel-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        pointer-events: all;
        z-index: 9999;
    }

    .pixel-column {
        width: 5vw;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

    .pixel-block {
        width: 100%;
        height: 5vw;
        background-color: var(--color-dark);
        opacity: 1;
    }

    .pixel-background.animating .pixel-block {
        animation: fadeOut 0.3s forwards;
    }

    @keyframes fadeOut {
        to { opacity: 0; }
    }
</style>

<script>
    import PixelTransition from './PixelTransition.js';
    
    const container = document.getElementById('pixel-transition');
    if (container) {
        const transition = new PixelTransition(container, {
            columnCount: 20,
            animationDelay: 0.03,
            autoStart: false
        });

        // Wait for all images/resources to load
        window.addEventListener('load', () => {
            setTimeout(() => {
                transition.start();
            }, 500);
        });
    }
</script>